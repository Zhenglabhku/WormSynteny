
<!-- README.md is generated from README.Rmd. Please edit that file -->

# WormSyntenyPackage

<!-- badges: start -->
<!-- badges: end -->

We built the Wormsynteny App to visualize the synteny or genomic
conservation among eleven nematode Caenorhabditis species. Our previous
study identified orthologous genes in the eleven species and assigned
them into orthogroups based on protein sequence similarities (Ma, Lau,
and Zheng, Cell Genomics, 2024). Those analyses, however, did not
consider synteny. Thus, one of the purposes of this App is to integrate
the orthology and synteny information by mapping the genomic position of
the orthologs across species to assess the conservation of the genomic
blocks they are located in. In the alignment plot, we provide the
orthogroup information for protein sequence conservation and the synteny
information by the links among aligned regions. Genomic alignment is
done using Cactus, a reference-free whole-genome alignment program, and
the output is visualized in an alignment plot and several downloadable
tables.

The Wormsynteny App is built in a C. elegans-centric manner. It only
takes C. elegans genes or genomic regions and aligns them with the other
ten Caenorhabditis species to find syntenic regions. The App then
annotates genes within the region and maps them to orthogroups. Although
not possible in its current form, future updates may allow the inquiry
using sequences from the other ten species. We also plan to include more
nematode species in the App. Given that Wormbase does not have a
function to visualize synteny across multiple species, Wormsynteny App
may be useful for evolutionary studies in the worm community and in
genome biology in general.

We also hold a online version of this package [webpage](https://wormsynteny.org)

## Dependencies

The WormSynteny application is an R-based tool (≥ 2.10) optimized for
Ubuntu (v22.04.4 LTS). It uses the Shiny R package (v1.8.1.1;
Winston Chang et al.) to provide dynamic and interactive web
functionality.

To use the application, users must first install the necessary packages
from CRAN and BiocManager.

Below is the list of required packages:

Bioconductor (via BiocManager):

- GenomicRanges (≥ 1.56.1)
- IRanges (≥ 2.38.0)
- rtracklayer (≥ 1.64.0)

CRAN:

- cowplot (≥ 1.1.3)
- dplyr (≥ 1.1.4)
- DT (≥ 0.33)
- flextable (≥ 0.9.6)
- gggenomes (≥ 1.0.0)
- ggplot2 (≥ 3.5.1)
- readr (≥ 2.1.5)
- shiny (≥ 1.8.1.1)
- shinycssloaders (≥ 1.0.0)
- shinydashboard (≥ 0.7.2)
- shinyFeedback (≥ 0.4.0)
- shinyjs (≥ 2.1.0)
- stringr (≥ 1.5.1)
- tidyr (≥ 1.3.1)
- waiter (≥ 0.2.5)

To install Bioconductor packages, use BiocManager::install(), and for
CRAN packages, employ install.packages().

Additionally, the app utilizes two Linux commands: the gtf2bed command
(to convert a gtf file into a bed file) and the halLiftover command (to
retrieve homologous sequences from the Hal file generated by Cactus, a
multigenome aligner). We didn't offer the pre-compiled version of these two software. Users should install them following the instructions in each repository.

The gtf2bed command needs to be installed first from this
[webpage](https://bedops.readthedocs.io/en/latest/content/reference/file-management/conversion/gtf2bed.html#source).

The HalLiftover command is already in the package. Check this
[GitHub](https://github.com/ComparativeGenomicsToolkit/hal) repository
for more information about how it works.

## Compatibility
We test the package in Windows Subsystem for Linux (WSL) and macOS(M1 Chip).

## Installation

Install the development version of WormSyntenyPackage from
[GitHub](https://github.com/Zhenglabhku/WormSynteny/) with:

``` r
# install.packages("devtools")
devtools::install_github("Zhenglabhku/WormSynteny/WormSynteny_Package")
```

```r
#' simply test the availability of software inside in R console
Sys.which("gtf2bed")
Sys.which("halLiftover")
```

## Launching the website

Once the packaged is installed and the dependencies are checked, open the app by calling the function myApp():

``` r
library(WormSyntenyPackage)
myApp()
```
## Tutorial
A detailed tutorial can be found at [wormsynteny.org](https://wormsynteny.org/Wormsynteny/)
or the same webpage of WormSyntenyPackage launched locally. 
